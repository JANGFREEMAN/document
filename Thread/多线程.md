## 多线程

单线程处理耗时的任务显然不够实际，Java提供多线程技术，使用多线程技术可以提高任务的执行效率。

## 实现方式

实现方式一般有两种方式，一种是继承Thread类重写run方法，另外一种是实现Runnable接口，一般采用后面的方式。

## 线程状态

-  创建状态：创建继承Thread或实现Runable接口的类实例
- 就绪状态：调用start方法，等待系统分配资源。
- 运行状态：线程获取系统资源，获取cpu执行权
- 阻塞状态
  -  等待阻塞： 运行状态的线程执行wait方法。
  - 同步阻塞：运行状态的线程获取对象锁。
  - 其他阻塞：运行状态的执行sleep或Join方法。
- 死亡状态：线程任务执行完成或调用destory方法。

## 线程安全

Java方法执行结果不受线程任务调度顺序的影响则任务是线程安全的，反之则线程不安全。一般解决的方法是对需要保护的资源加锁。



## 死锁

单两个线程想要获取对方线程资源时又不释放当前锁就会进入死锁状态。



### 如何避免死锁



## 线程池

用一个很形象的例子解释下线程池内部工作原理：

假设有一个工厂，有10个工人，每个工人在同一时间只能处理一个任务，这时工厂接受了任务，将任务分配给工人，可是任务增长速度比工人处理速度还要快，10个工人都在处理自己的任务，当来了第11个任务时候，厂长会把任务放到后面排队。可是，任务增长速度非常的迅速，这时厂长会想一个办法，就是请5个临时工人来处理是任务，当任务增长缓慢时，会辞掉请来的零时工，毕竟请来的零时工是需要多花钱的。

在上面例子中10个工人指的是核心线程数（core），当工厂来了15个任务时候，达到工厂处理任务的极限，这个数量指的是线程最大容忍数。

## 参考资料

[线程池原理]: https://www.cnblogs.com/dolphin0520/p/3932921.html
[线程池原理图解]: https://juejin.im/post/5c96e972f265da60e926861d

